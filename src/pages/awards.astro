---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { awards } from '../data/awards';

const awardsByYear = awards.reduce((acc, award) => {
  if (!acc[award.year]) {
    acc[award.year] = [];
  }
  acc[award.year].push(award);
  return acc;
}, {} as Record<string, typeof awards>);

const sortedYears = Object.keys(awardsByYear).sort((a, b) => parseInt(b) - parseInt(a));
---

<Layout 
  title="Awards | Talaat Studio" 
  description="Recognized for excellence in architecture and design. View our comprehensive list of awards and recognition from the American Institute of Architects and other prestigious organizations."
>
  <Header />
  
  <main class="bg-white">
    <!-- Page Header -->
    <section class="bg-white border-b border-gray-200 py-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl md:text-5xl font-bold text-black mb-6">
            AWARDS & RECOGNITION
          </h1>
          <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
            Our commitment to design excellence has been recognized by prestigious organizations 
            including the American Institute of Architects and industry publications.
          </p>
        </div>
      </div>
    </section>

    <!-- Awards Legend -->
    <section class="py-12 bg-gray-50 border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-wrap justify-center items-center gap-8">
          <div class="flex items-center space-x-2">
            <div class="w-4 h-4 bg-black rounded-full"></div>
            <span class="text-sm font-medium text-gray-700">AIA AWARD</span>
          </div>
          <div class="flex items-center space-x-2">
            <div class="w-4 h-4 bg-gray-400 rounded-full"></div>
            <span class="text-sm font-medium text-gray-700">NON-AIA AWARD</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Awards List -->
    <section class="py-20 bg-white">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="space-y-12">
          {sortedYears.map((year) => (
            <div class="border-b border-gray-200 pb-8">
              <h2 class="text-2xl font-bold text-black mb-6">
                {year}
              </h2>
              <div class="space-y-4">
                {awardsByYear[year].map((award) => (
                  <div key={award.id} class="flex items-start space-x-4">
                    <div class={`w-3 h-3 mt-2 rounded-full flex-shrink-0 ${
                      award.type === 'aia' ? 'bg-black' : 'bg-gray-400'
                    }`}></div>
                    <div>
                      <h3 class="text-lg font-semibold text-black">
                        {award.title}
                      </h3>
                      <p class="text-gray-600 mt-1">
                        {award.organization}
                      </p>
                      {award.description && (
                        <p class="text-gray-600 mt-2 text-sm">
                          {award.description}
                        </p>
                      )}
                    </div>
                  </div>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="py-20 bg-gray-50 border-t border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h2 class="text-3xl md:text-4xl font-bold text-black mb-8">
            AWARD-WINNING DESIGN FOR YOUR PROJECT
          </h2>
          <p class="text-lg text-gray-700 mb-8 max-w-2xl mx-auto">
            Bring the same level of excellence and attention to detail that has earned us recognition 
            from industry leaders to your next project.
          </p>
          <a 
            href="mailto:info@TalaatArchitects.com"
            class="inline-flex items-center px-8 py-4 border border-black text-lg font-medium text-black hover:bg-black hover:text-white transition-colors duration-200"
          >
            WORK WITH US
            <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2v10a2 2 0 002 2z" />
            </svg>
          </a>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</Layout>